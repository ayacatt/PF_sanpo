<div class='main-container'>
<h1>スポット投稿フォーム</h1>

  </tr>
  <%= form_with model: @post, local:true, multipart: true do |f| %>

  <h4><%= f.label :genre, "ジャンル" %></h4>
  <%= f.collection_select(:genre_id, Genre.all, :id, :name, prompt: "-- 選択してください --") %>

  <h4>スポット名</h4>
  <%= f.text_field :title %>
  <h4>説明</h4>
  <%= f.text_area :body %>

  <div id="evaluate_stars">
  <label>評価</label>
  </div>

  <h4>スポット画像</h4>
  <%= f.attachment_field :image %>

  <h4>地図</h4>
    <div class="spot">
    <%= f.fields_for :spot do |s| %>
      <%= s.label :address, "レビュー場所(Google Mapで検索)", class: 'spot__title' %>
      <%= s.text_field :address, placeholder: "スポットを入力", id: "address", class: 'spot__text' %>
    <% end %>
    <input onclick="codeAddress()" type="button" value="検索する"></input>
    <div class="map" id="map" style="height: 320px; width: 640px;"></div>
  　</div>

  <%= f.submit "投稿する" %>
<% end %>

<script>
  $('#evaluate_stars').raty({
    starOn: "<%= asset_path('star-on.png') %>",
    starOff: "<%= asset_path('star-off.png') %>",
    starHalf: "<%= asset_path('star-half.png') %>",
    scoreName: 'post[evaluation]' //登録するモデル名とカラム名を記述
  });
</script>